This is a lock impl of a ring buffer.
This impl is based on owner tid.
